PREFIX roh: <http://purl.org/roh_edma#>
PREFIX vivo: <http://purl.org/roh_edma/mirror/vivo#>
PREFIX foaf: <http://purl.org/roh_edma/mirror/foaf#>
PREFIX rdfs:  <http://www.w3.org/2000/01/rdf-schema#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX bibo: <http://purl.org/roh_edma/mirror/bibo#>
prefix ro: <http://purl.org/roh_edma/mirror/obo/ro#> 
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
prefix bfo: <http://purl.org/roh_edma/mirror/obo/bfo#> 
SELECT DISTINCT  ?researcher ?organization  ?proyect 
WHERE {
 ?researcher 
             a foaf:Person.
  ?proyect a vivo:Project;
           vivo:relates ?role;
           vivo:dateTimeInterval ?datetimeInterval.
  ?datetimeInterval vivo:start ?dateStar;
                    vivo:end ?dateend.
    ?dateStar vivo:dateTime ?datestar .
        ?dateend vivo:dateTime ?datend.

    ?role roh:roleOf ?researcher;
         ro:RO_0000052 ?organization.
    ?organization a ?researchGroupClass. 
    Filter( ?researchGroupClass = roh:ResearchGroup || ?researchGroupClass = roh:ResearchInstitute)
  FILTER (YEAR(?datestar) >= "2015"^^xsd:integer && YEAR(?datend) <= "2022"^^xsd:integer )
}
